<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Imputors · Impute.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../../versions.js"></script><link href="../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Impute.jl</h1><form class="search" action="../search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><a class="toctext" href="impute.html">Impute</a></li><li><a class="toctext" href="context.html">Context</a></li><li class="current"><a class="toctext" href="imputors.html">Imputors</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Fill-1">Fill</a></li><li class="toplevel"><a class="toctext" href="#Interpolate-1">Interpolate</a></li><li class="toplevel"><a class="toctext" href="#Last-Observation-Carried-Forward-(LOCF)-1">Last Observation Carried Forward (LOCF)</a></li><li class="toplevel"><a class="toctext" href="#Next-Observation-Carried-Backward-(NOCB)-1">Next Observation Carried Backward (NOCB)</a></li><li class="toplevel"><a class="toctext" href="#Chain-1">Chain</a></li></ul></li><li><a class="toctext" href="utils.html">Utilities</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="imputors.html">Imputors</a></li></ul><a class="edit-page" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/docs/src/api/imputors.md#L{line}"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!" href="#Impute.impute!"><code>Impute.impute!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">impute!(imp::Imputor, data::Dataset, limit::Float64=0.1)</code></pre><p>Creates a <code>Context</code> using information about <code>data</code>. These include</p><ol><li><p>missing data function:</p></li></ol><ul><li><p><code>isnull</code>: if <code>NullableArray</code> or <code>DataTable</code></p></li><li><p><code>isna</code>: if <code>DataArray</code> or <code>DataFrame</code></p></li><li><p><code>isnan</code>: for anything else.</p></li></ul><ol><li><p>number of elements: <code>*(size(data)...)</code></p></li></ol><p><strong>Arguments</strong></p><ul><li><p><code>imp::Imputor</code>: the Imputor method to use</p></li><li><p><code>data::Dataset</code>: the data to impute</p></li><li><p><code>limit::Float64: missing data ratio limit/threshold (default: 0.1)</code></p></li></ul><p><strong>Return</strong></p><ul><li><p><code>Dataset</code>: the input <code>data</code> with values imputed.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors.jl#LL12-L31">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Tuple{Impute.Imputor,Impute.Context,Union{DataFrames.DataFrame, DataTables.DataTable}}" href="#Impute.impute!-Tuple{Impute.Imputor,Impute.Context,Union{DataFrames.DataFrame, DataTables.DataTable}}"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Imputor, ctx::Context, data::Table)</code></pre><p>Imputes the data in a DataFrame or DataTable by imputing the values 1 column at a time; if this is not the desired behaviour custom imputor methods should overload this method.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Imputor</code>: the Imputor method to use</p></li><li><p><code>ctx::Context</code>: the contextual information for missing data</p></li><li><p><code>data::Table</code>: the data to impute</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>Table</code>: the input <code>data</code> with values imputed</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors.jl#LL66-L79">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.Imputor,Impute.Context,AbstractArray{T,2}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.Imputor,Impute.Context,AbstractArray{T,2}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Imputor, ctx::Context, data::AbstractArray{T, 2})</code></pre><p>Imputes the data in a matrix by imputing the values 1 column at a time; if this is not the desired behaviour custom imputor methods should overload this method.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Imputor</code>: the Imputor method to use</p></li><li><p><code>ctx::Context</code>: the contextual information for missing data</p></li><li><p><code>data::AbstractArray{T, 2}</code>: the data to impute</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>AbstractArray{T, 2}</code>: the input <code>data</code> with values imputed</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors.jl#LL45-L58">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Imputor" href="#Impute.Imputor"><code>Impute.Imputor</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Imputor</code></pre><p>An imputor stores information about imputing values in <code>AbstractArray</code>s, <code>DataFrame</code>s and <code>DataTable</code>s. New imputation methods are expected to sutype <code>Imputor</code> and, at minimum, implement the <code>impute!{T&lt;:Any}(imp::&lt;MyImputor&gt;, ctx::Context, data::AbstractArray{T, 1})</code> method.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors.jl#LL1-L8">source</a><br/></section><h1><a class="nav-anchor" id="Drop-1" href="#Drop-1">Drop</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Tuple{Impute.Drop,Impute.Context,Union{DataFrames.DataFrame, DataTables.DataTable}}" href="#Impute.impute!-Tuple{Impute.Drop,Impute.Context,Union{DataFrames.DataFrame, DataTables.DataTable}}"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!(imp::Drop, ctx::Context, data::Table)</code></pre><p>Finds the missing rows in the <code>DataFrame</code> or <code>DataTable</code> and deletes them.</p><p>NOTE: this isn&#39;t quite as fast as <code>dropnull</code> in <code>DataTable</code>s as we&#39;re using an arbitrary <code>missing</code> function rather than using the precomputed <code>dt.isnull</code> vector of bools.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Drop</code>: this <code>Imputor</code> method</p></li><li><p><code>ctx::Context</code>: contextual information for missing data</p></li><li><p><code>data::Table</code>: the data to impute</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>Table</code>: our data with the missing rows removed.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/drop.jl#LL53-L68">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.Drop,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.Drop,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Drop, ctx::Context, data::AbstractArray{T, 1})</code></pre><p>Uses <code>filter!</code> to remove missing elements from the array.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Drop</code>: this <code>Imputor</code> method</p></li><li><p><code>ctx::Context</code>: contextual information for missing data</p></li><li><p><code>data::AbstractArray{T, 1}</code>: the data to impute</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>AbstractArray{T, 1}</code>: our data array with missing elements removed</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/drop.jl#LL8-L20">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.Drop,Impute.Context,AbstractArray{T,2}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.Drop,Impute.Context,AbstractArray{T,2}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Drop, ctx::Context, data::AbstractArray{T, 2})</code></pre><p>Finds the missing rows in the matrix and uses a mask (Array{Bool, 1}) to return the <code>data</code> with those rows removed. Unfortunately, the mask approach requires copying the matrix.</p><p>NOTES (or premature optimizations):</p><ul><li><p>We use <code>view</code>, but this will change the type of the <code>data</code> by returning a <code>SubArray</code></p></li><li><p>We might be able to do something clever by:</p><ol><li><p>reshaping the data to a vector</p></li><li><p>running <code>deleteat!</code> for the appropriate indices and</p></li><li><p>reshaping the data back to the desired shape.</p></li></ol></li></ul><p><strong>Arguments</strong></p><ul><li><p><code>imp::Drop</code>: this <code>Imputor</code> method</p></li><li><p><code>ctx::Context</code>: contextual information for missing data</p></li><li><p><code>data::AbstractArray{T, 2}</code>: the data to impute</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>AbstractArray{T, 2}</code>: a new matrix with missing rows removed</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/drop.jl#LL25-L45">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Drop" href="#Impute.Drop"><code>Impute.Drop</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Drop &lt;: Imputor</code></pre><p>Removes missing values from the <code>AbstractArray</code>, <code>DataFrame</code> or <code>DataTable</code> provided.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/drop.jl#LL1-L5">source</a><br/></section><h1><a class="nav-anchor" id="Fill-1" href="#Fill-1">Fill</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.Fill,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.Fill,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Fill, ctx::Context, data::AbstractArray{T, 1})</code></pre><p>Computes the fill value if <code>imp.value</code> is a <code>Function</code> (i.e., <code>imp.value(drop(copy(data)))</code>) and replaces all missing values in the <code>data</code> with that value.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/fill.jl#LL21-L26">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Fill" href="#Impute.Fill"><code>Impute.Fill</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Fill &lt;: Imputor</code></pre><p>Fills in the missing data with a specific value.</p><p><strong>Fields</strong></p><ul><li><p><code>value::Any</code>: A scalar missing value or a function that returns the a scalar if   passed the data with missing data removed (e.g, <code>mean</code>)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/fill.jl#LL1-L9">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Fill-Tuple{}" href="#Impute.Fill-Tuple{}"><code>Impute.Fill</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">Fill() -&gt; Fill</code></pre><p>By default <code>Fill()</code> will use the mean of the existing values as the fill value.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/fill.jl#LL14-L18">source</a><br/></section><h1><a class="nav-anchor" id="Interpolate-1" href="#Interpolate-1">Interpolate</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.Interpolate,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.Interpolate,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::Interpolate, ctx::Context, data::AbstractArray{T, 1})</code></pre><p>Uses linear interpolation between existing elements of a vector to fill in missing data.</p><p>WARNING: Missing values at the head or tail of the array cannot be interpolated if there are no existing values on both sides. As a result, this method does not guarantee that all missing values will be imputed.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/interp.jl#LL8-L16">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Interpolate" href="#Impute.Interpolate"><code>Impute.Interpolate</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Interpolate &lt;: Imputor</code></pre><p>Performs linear interpolation between the nearest values in an vector.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/interp.jl#LL1-L5">source</a><br/></section><h1><a class="nav-anchor" id="Last-Observation-Carried-Forward-(LOCF)-1" href="#Last-Observation-Carried-Forward-(LOCF)-1">Last Observation Carried Forward (LOCF)</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.LOCF,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.LOCF,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::LOCF, ctx::Context, data::AbstractArray{T, 1})</code></pre><p>Iterates forwards through the <code>data</code> and fills missing data with the last existing observation.</p><p>WARNING: missing elements at the head of the array may not be imputed if there is no existing observation to carry forward. As a result, this method does not guarantee that all missing values will be imputed.</p><p><strong>Usage</strong></p><pre><code class="language-none"></code></pre></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/locf.jl#LL3-L17">source</a><br/></section><h1><a class="nav-anchor" id="Next-Observation-Carried-Backward-(NOCB)-1" href="#Next-Observation-Carried-Backward-(NOCB)-1">Next Observation Carried Backward (NOCB)</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Union{Tuple{Impute.NOCB,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T" href="#Impute.impute!-Union{Tuple{Impute.NOCB,Impute.Context,AbstractArray{T,1}}, Tuple{T}} where T"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!{T&lt;:Any}(imp::NOCB, ctx::Context, data::AbstractArray{T, 1})</code></pre><p>Iterates backwards through the <code>data</code> and fills missing data with the next  existing observation.</p><p>WARNING: missing elements at the tail of the array may not be imputed if there is no existing observation to carry backward. As a result, this method does not guarantee that all missing values will be imputed.</p><p><strong>Usage</strong></p><pre><code class="language-none"></code></pre></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/nocb.jl#LL8-L22">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.NOCB" href="#Impute.NOCB"><code>Impute.NOCB</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">NOCB &lt;: Imputor</code></pre><p>Fills in missing data using the Next Observation Carried Backward (NOCB) approach.</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/nocb.jl#LL1-L5">source</a><br/></section><h1><a class="nav-anchor" id="Chain-1" href="#Chain-1">Chain</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Tuple{Impute.Chain,Function,Union{AbstractArray, DataFrames.DataFrame, DataTables.DataTable}}" href="#Impute.impute!-Tuple{Impute.Chain,Function,Union{AbstractArray, DataFrames.DataFrame, DataTables.DataTable}}"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!(imp::Chain, missing::Function, data::Dataset; limit::Float64=0.1)</code></pre><p>Creates a <code>Context</code> and runs the <code>Imputor</code>s on the supplied data.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Chain</code>: the chain to run</p></li><li><p><code>missing::Function</code>: the missing function to use in the <code>Context</code> to pass to the <code>Imputor</code>s</p></li><li><p><code>data::Dataset</code>: our data to impute</p></li><li><p><code>limit::Float64</code>: the missing data ration limit/threshold</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>Dataset</code>: our imputed data</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/chain.jl#LL20-L33">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.impute!-Tuple{Impute.Chain,Union{AbstractArray, DataFrames.DataFrame, DataTables.DataTable}}" href="#Impute.impute!-Tuple{Impute.Chain,Union{AbstractArray, DataFrames.DataFrame, DataTables.DataTable}}"><code>Impute.impute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">impute!(imp::Chain, data::Dataset; limit::Float64=0.1)</code></pre><p>Infers the missing data function from the <code>data</code> and passes that to <code>impute!(imp::Chain, missing::Function, data::Dataset; limit::Float64=0.1)</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>imp::Chain</code>: the chain to run</p></li><li><p><code>data::Dataset</code>: our data to impute</p></li><li><p><code>limit::Float64</code>: the missing data ration limit/threshold</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>Dataset</code>: our imputed data</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/chain.jl#LL44-L58">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Chain" href="#Impute.Chain"><code>Impute.Chain</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Chain &lt;: Imputor</code></pre><p>Runs multiple <code>Imputor</code>s on the same data in the order they&#39;re provided.</p><p><strong>Fields</strong></p><ul><li><p><code>imputors::Array{Imputor}</code></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/chain.jl#LL1-L8">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Impute.Chain-Tuple{Vararg{Impute.Imputor,N} where N}" href="#Impute.Chain-Tuple{Vararg{Impute.Imputor,N} where N}"><code>Impute.Chain</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">Chain(imputors::Imputor...) -&gt; Chain</code></pre><p>Creates a Chain using the <code>Imputor</code>s provided (ordering matters).</p></div><a class="source-link" target="_blank" href="https://github.com/invenia/Impute.jl/blob/37476698be9680df871b9075ba12254782dda1f4/src/imputors/chain.jl#LL13-L17">source</a><br/></section><footer><hr/><a class="previous" href="context.html"><span class="direction">Previous</span><span class="title">Context</span></a><a class="next" href="utils.html"><span class="direction">Next</span><span class="title">Utilities</span></a></footer></article></body></html>
